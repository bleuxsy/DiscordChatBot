

코딩 테스트(백준) 스터디를 위한 **디스코드 방장 봇**입니다.  
주간 문제 풀이 횟수를 자동으로 집계하고, 벌금 정산까지 도와주는 귀여운 집행관 봇 🧸

---

## 🧩 주요 기능

- `!solve <문제 URL>`로 **백준 문제 인증**
- 서버 멤버 전체(봇 제외)를 기준으로 **주간 문제 풀이 횟수 집계**
- **자동/수동 정산 기능** 지원 (N분의 1 분배)
- 매주 일요일 밤에 **자동 정산 & 초기화**
- 봇 재시작 시 **이전 인증 기록 자동 복원**
- 새 멤버 서버 가입 시 **도움말 자동 안내**
- `!help`로 현재 채널에서 사용 가능한 명령어 확인 가능

---

## 💰 벌금 및 분배 규칙

- 주당 **목표 문제 수: 5회**
- **미달 1회당 벌금: 1,000원**
- 5회 이상 인증 시 **수령자 자격**
- 벌금 총액을 **수령자 수로 N분의 1**하여 분배

> 예시  
> 총 벌금: 6,000원  
> 수령자: 3명  
> → 1인당 2,000원

---

## 📝 명령어

### 📌 인증 채널

- `!solve <문제 URL>`  
  → 백준 문제 인증  
  예시:
  ```
  !solve https://www.acmicpc.net/problem/1000
  ```

- `!` 또는 `!help`  
  → 현재 채널에서 사용할 수 있는 명령어 안내

---

### 📌 정산 채널

- `!week`  
  → 이번 주 인증 현황 보기 (서버 전체 기준)

- `!settle`  
  → 이번 주 벌금 정산  
  (일반 유저도 실행 가능)

- `!resetweek` *(관리자 전용)*  
  → 주간 기록 초기화

- `!members`  
  → 서버 멤버 목록 확인 (봇 제외)

- `!help`  
  → 정산 채널용 도움말 표시

---

## ⏰ 자동 정산 & 초기화

한국 시간(Asia/Seoul) 기준:

| 시간 | 역할 |
|------|------|
| **일요일 23:50** | 자동 정산 |
| **일요일 23:59** | 기록 초기화 |

월요일부터 **새로운 한 주 기준으로 카운트 시작**됩니다.

---

## 🔄 재시작 시 기록 복원 방식

봇 재부팅 시:

- 인증 채널 로그를 확인하여  
- **이번 주 월요일 00:00 이후**의 `!solve` 메시지를 다시 분석해  
- 자동으로 `weekly_counts`를 복원합니다.

즉,

> 봇이 꺼졌다가 켜져도 인증 기록은 안전합니다! ✨

---

## ⚠️ 주의사항

- 이 봇은 **로컬 환경에서 실행**되고 있어  
  가끔 오프라인일 수 있습니다.
- 하지만 재실행해도 메세지 기반 카운팅을 집계하여 **이전 인증 내역은 자동 복원** 가능 
-

---

## 🛠 초기 세팅

```
python3 -m pip install discord.py certifi
```

---

## 🏃 실행 방법

```
python3 bot.py
```

> 토큰은 코드에 직접 입력하지 말고  
> **환경 변수(DISCORD_TOKEN)** 로 설정하는 것을 권장합니다.

---
